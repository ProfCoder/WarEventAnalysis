!function(n){var i={reCalcOnWindowResize:!0,throttleDuration:17},l=function(t,i){n("<img />").one("load",function(){i(null,{width:this.width,height:this.height})}).attr("src",t)},m=function(t,i,a,n,o){var r=Math.floor(i/2),e=(n+1)/2,c=Math.floor(a/t),u=Math.floor(e*c);o&&(u=c-u);var f=u-r,h=c-u,d=i-r;return h<d&&(f-=d-h),f<0&&(f=0),-100*f/i+"%"},v=function(t){var a,i,n=t.data("imageW"),o=t.data("imageH"),r=t.data("imageSrc");if(!n&&!o&&!r)return i=(a=t).find("img").attr("src"),a.data("imageSrc",i),void l(i,function(t,i){a.data({imageW:i.width,imageH:i.height}),v(a)});var e=t.width(),c=t.height(),u=parseFloat(t.data("focusX")),f=parseFloat(t.data("focusY")),h=t.find("img").first(),d=0,s=0;if(!(0<e&&0<c&&0<n&&0<o))return!1;var g=n/e,w=o/c;h.css({"max-width":"","max-height":""}),e<n&&c<o&&h.css(w<g?"max-height":"max-width","100%"),w<g?d=m(w,e,n,u):g<w&&(s=m(g,c,o,f,!0)),h.css({top:s,left:d})},c=n(window),o=function(t,i){var a,n,o,r=i.throttleDuration?(a=function(){v(t)},n=i.throttleDuration,o=!1,function(){var t=Array.prototype.slice.call(arguments,0);if(o)return!1;o=!0,setTimeout(function(){o=!1,a.apply(null,t)},n)}):function(){v(t)},e=!1;return v(t),{adjustFocus:function(){return v(t)},windowOn:function(){if(!e)return c.on("resize",r),e=!0},windowOff:function(){if(e)return c.off("resize",r),!(e=!1)}}};n.fn.focusPoint=function(t){if("string"==typeof t)return this.each(function(){n(this).data("focusPoint")[t]()});var a=n.extend({},i,t);return this.each(function(){var t=n(this),i=o(t,a);t.data("focusPoint")&&t.data("focusPoint").windowOff(),t.data("focusPoint",i),a.reCalcOnWindowResize&&i.windowOn()})},n.fn.adjustFocus=function(){return this.each(function(){v(n(this))})}}(jQuery),function(o){"use strict";o(function(){o(".focal-point-image").each(function(){o(this).focusPoint()}),o(window).trigger("resize")}),o(window).on("resize",function(){o("picture.focal-point-image").each(function(){var t=o(this),i=o(this).find("img"),a=i[0].currentSrc?i[0].currentSrc:"",n=t.find('[src="'+a+'"], [srcset="'+a+'"]');0<n.length&&n.data("width")&&n.data("height")&&t.data("image-w")!==n.data("width")&&(t.attr({"data-image-w":n.data("width"),"data-image-h":n.data("height")}),t.data({"image-w":n.data("width"),"image-h":n.data("height")}),t.focusPoint("adjustFocus"))})})}(jQuery);